# AMLL-auxiliary-adaptation-ecosystem
An AMLL external song statistics plugin written in Python
# AMLL Music Monitor

## Introduction

The AMLL Music Monitor is a lightweight command-line tool designed to **real-time monitor the playback content of AMLL Player** and automatically save the playback history. It provides a user-friendly interface to display the current playback information in a colorful terminal output and supports automatic refresh. Additionally, it generates detailed music statistics reports, including overall playback overview, top artists and songs, daily playback trends, and more.

## Features

- **Real-time Monitoring**: Detects and displays the currently playing song in real-time.
- **Automatic History Saving**: Saves playback history to `amll_music_history.json` and generates a human-readable `music_playback.log`.
- **Colorful Terminal Output**: Displays playback information in a colorful terminal with automatic refresh support.
- **Music Statistics Reports**: Generates comprehensive music statistics reports, including:
  - Overall playback overview (total plays, effective days, total duration)
  - Top 10 favorite artists and songs (based on real cumulative counts)
  - Daily playback trends and 24-hour playback distribution charts
  - Artist word cloud
- **No AMLL Plugin Required**: Directly reads the AMLL Player log file without requiring any additional plugins.

## Quick Start

### 1. Install Dependencies

```bash
pip install -r requirements.txt
pip install -r requirements-stats.txt
```

### 2. Start Monitoring

```bash
python main.py
```

The terminal will display the current playback in color and append logs in real-time. Press `Ctrl+C` to stop monitoring.

### 3. Generate Music Statistics Report

```bash
python music_stats.py
```

Open `stats/index.html` in your browser to view the music statistics report.

## Configuration

- **Log Path**: Modify the `_find_amll_log()` function in `config.py` to set the log file path.
- **Other Configurations**: Additional settings can be found in `config.py`.

## Dependencies

- `requirements.txt` lists all the required packages for the project.

## Common Issues

- **Missing Artist in Logs**: Ensure the `_save_to_playback_log` function in `music_tracker.py` is correctly formatted.
- **Chinese Character Encoding Issues**: The script automatically searches for system fonts like SimHei, PingFang, or NotoSansCJK. If encoding issues persist, manually specify the font path.
- **Resetting Playback Counts**: Delete `play_count.json` to reset the playback counts to zero.

## Backup

To seamlessly continue playback counting on a new machine, copy the following files together:

- `amll_music_history.json`
- `music_playback.log`
- `play_count.json`
- `stats/` (if you want to retain the old web pages)

## Acknowledgements

Thank you for using AMLL Music Monitor!  
**Generated by KIMI AI @ Moonshot AI**

Project Structure：In the project file
中文说明：在项目文件中
